(this.webpackJsonpwithme_prototype=this.webpackJsonpwithme_prototype||[]).push([[0],{12:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(4),i=n.n(a),s=(n(12),n(5)),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},u=n(0);i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(s.a,{})}),document.getElementById("root")),o()},5:function(e,t,n){"use strict";(function(e){var r=n(3),c=n.n(r),a=n(6),i=n(7),s=n(1),o=(n(19),n(0)),u="withme.heavyrisem.xyz";t.a=function(){var t=Object(s.useState)(),n=Object(i.a)(t,2),r=n[0],l=n[1],d=Object(s.useRef)(null);function h(){return(h=Object(a.a)(c.a.mark((function t(){var n,r,a,i,s,o,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.current){t.next=25;break}return d.current.pause(),l("Loading ..."),(r=document.createElement("canvas")).width=d.current.videoWidth,r.height=d.current.videoHeight,null===(n=r.getContext("2d"))||void 0===n||n.drawImage(d.current,0,0),a=atob(r.toDataURL("image/png").split(",")[1]),i=new Blob([new Uint8Array(e.from(a,"binary"))],{type:"image/png"}),(s=new FormData).append("file",i,"image.png"),t.prev=11,t.next=14,fetch("https://".concat(u,"/ocr"),{method:"POST",headers:{},body:s});case 14:return o=t.sent,t.next=17,o.json();case 17:(h=t.sent).result?l(h.result):l(h.detail),d.current.play(),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(11),l(t.t0);case 25:case"end":return t.stop()}}),t,null,[[11,22]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){if(!navigator.mediaDevices)return;navigator.mediaDevices.getUserMedia({audio:!1,video:{width:{ideal:9999},height:{ideal:9999},facingMode:"environment"}}).then((function(e){d.current&&(d.current.srcObject=e,d.current.onloadedmetadata=function(e){d.current&&d.current.play()})})).catch((function(e){console.log(e),alert("Err"+e)}))}),[]),Object(o.jsxs)("div",{className:"Comp",children:[Object(o.jsx)("video",{ref:d,playsInline:!0}),Object(o.jsxs)("div",{className:"Bottom",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("span",{className:"TextResult",children:r})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"Shutter",onClick:function(){return h.apply(this,arguments)},children:Object(o.jsx)("div",{className:"ShutterBall"})})})]})]})}}).call(this,n(13).Buffer)}},[[21,1,2]]]);